mkdir -p obj/fp
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_add.o src/fp/fp_add.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp.o src/fp/fp.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_mul.o src/fp/fp_mul.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_mul_redc1.o src/fp/fp_mul_redc1.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_pow.o src/fp/fp_pow.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_rand.o src/fp/fp_rand.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/fp/fp_sqrt.o src/fp/fp_sqrt.c
mkdir -p obj/nn
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_add.o src/nn/nn_add.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn.o src/nn/nn.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_div.o src/nn/nn_div.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_logical.o src/nn/nn_logical.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_modinv.o src/nn/nn_modinv.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_mod_pow.o src/nn/nn_mod_pow.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_mul.o src/nn/nn_mul.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_mul_redc1.o src/nn/nn_mul_redc1.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/nn/nn_rand.o src/nn/nn_rand.c
mkdir -p obj/utils
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/utils.o src/utils/utils.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/utils_rand.o src/utils/utils_rand.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/print_nn.o src/utils/print_nn.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/print_fp.o src/utils/print_fp.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/print_buf.o src/utils/print_buf.c
mkdir -p obj/external_deps
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/external_deps/print.o src/external_deps/print.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/external_deps/rand.o src/external_deps/rand.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/external_deps/time.o src/external_deps/time.c
mkdir -p lib
ar rcs lib/libarith.a \
    obj/fp/fp_add.o obj/fp/fp.o obj/fp/fp_mul.o obj/fp/fp_mul_redc1.o obj/fp/fp_pow.o obj/fp/fp_rand.o obj/fp/fp_sqrt.o \
    obj/nn/nn_add.o obj/nn/nn.o obj/nn/nn_div.o obj/nn/nn_logical.o obj/nn/nn_modinv.o obj/nn/nn_mod_pow.o obj/nn/nn_mul.o obj/nn/nn_mul_redc1.o obj/nn/nn_rand.o \
    obj/utils/utils.o obj/utils/utils_rand.o obj/utils/print_nn.o obj/utils/print_fp.o obj/utils/print_buf.o \
    obj/external_deps/print.o obj/external_deps/rand.o obj/external_deps/time.o 

mkdir -p obj/curves
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/curves/aff_pt.o src/curves/aff_pt.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/curves/curves.o src/curves/curves.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/curves/ec_params.o src/curves/ec_params.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/curves/ec_shortw.o src/curves/ec_shortw.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/curves/prj_pt.o src/curves/prj_pt.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/print_curves.o src/utils/print_curves.c
ar rcs lib/libec.a \
    obj/fp/fp_add.o obj/fp/fp.o obj/fp/fp_mul.o obj/fp/fp_mul_redc1.o obj/fp/fp_pow.o obj/fp/fp_rand.o obj/fp/fp_sqrt.o \
    obj/nn/nn_add.o obj/nn/nn.o obj/nn/nn_div.o obj/nn/nn_logical.o obj/nn/nn_modinv.o obj/nn/nn_mod_pow.o obj/nn/nn_mul.o obj/nn/nn_mul_redc1.o obj/nn/nn_rand.o \
    obj/utils/utils.o obj/utils/utils_rand.o obj/utils/print_nn.o obj/utils/print_fp.o obj/utils/print_buf.o \
    obj/curves/aff_pt.o obj/curves/curves.o obj/curves/ec_params.o obj/curves/ec_shortw.o obj/curves/prj_pt.o \
    obj/utils/print_curves.o \
    obj/external_deps/print.o obj/external_deps/rand.o obj/external_deps/time.o 

mkdir -p obj/hash
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/sha256.o src/hash/sha256.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/sha3-256.o src/hash/sha3-256.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/sha3.o src/hash/sha3.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/shake256.o src/hash/shake256.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/shake.o src/hash/shake.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/hash_algs.o src/hash/hash_algs.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/hash/hmac.o src/hash/hmac.c
mkdir -p obj/sig
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/sig/ecdsa.o src/sig/ecdsa.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/sig/ecdsa_common.o src/sig/ecdsa_common.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/sig/sig_algs.o src/sig/sig_algs.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/sig/ec_key.o src/sig/ec_key.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o obj/utils/print_keys.o src/utils/print_keys.c
ar rcs lib/libsign.a \
    obj/fp/fp_add.o obj/fp/fp.o obj/fp/fp_mul.o obj/fp/fp_mul_redc1.o obj/fp/fp_pow.o obj/fp/fp_rand.o obj/fp/fp_sqrt.o \
    obj/nn/nn_add.o obj/nn/nn.o obj/nn/nn_div.o obj/nn/nn_logical.o obj/nn/nn_modinv.o obj/nn/nn_mod_pow.o obj/nn/nn_mul.o obj/nn/nn_mul_redc1.o obj/nn/nn_rand.o \
    obj/utils/utils.o obj/utils/utils_rand.o obj/utils/print_nn.o obj/utils/print_fp.o obj/utils/print_buf.o \
    obj/curves/aff_pt.o obj/curves/curves.o obj/curves/ec_params.o obj/curves/ec_shortw.o obj/curves/prj_pt.o \
    obj/utils/print_curves.o \
    obj/hash/sha256.o obj/hash/sha3-256.o obj/hash/sha3.o obj/hash/shake256.o obj/hash/shake.o obj/hash/hash_algs.o obj/hash/hmac.o \
    obj/sig/ecdsa.o obj/sig/ecdsa_common.o obj/sig/sig_algs.o obj/sig/ec_key.o \
    obj/utils/print_keys.o \
    obj/external_deps/print.o obj/external_deps/rand.o obj/external_deps/time.o 
#src/ecdh/egcc -std=c99cdh.o src/ecdh/x25519_448.o



gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o src/tests/ec_self_tests_core.o src/tests/ec_self_tests_core.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o src/tests/ec_self_tests.o src/tests/ec_self_tests.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o src/external_deps/print.o src/external_deps/print.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o src/external_deps/rand.o src/external_deps/rand.c
gcc -MMD -MP -c -O2 -std=c99 -Wall -Wextra -Iinclude -fPIC -o src/external_deps/time.o src/external_deps/time.c
gcc -std=c99  -Wextra -Wall  -O3 -fPIE -MMD -MP -Iinclude/  -pie -Wl,-z,relro,-z,now src/tests/ec_self_tests_core.o src/tests/ec_self_tests.o src/external_deps/print.o src/external_deps/rand.o src/external_deps/time.o src/fp/fp_add.o src/fp/fp.o src/fp/fp_montgomery.o src/fp/fp_mul.o src/fp/fp_mul_redc1.o src/fp/fp_pow.o src/fp/fp_rand.o src/fp/fp_sqrt.o src/nn/nn_add.o src/nn/nn.o src/nn/nn_div.o src/nn/nn_logical.o src/nn/nn_modinv.o src/nn/nn_mod_pow.o src/nn/nn_mul.o src/nn/nn_mul_redc1.o src/nn/nn_rand.o src/utils/utils.o src/utils/utils_rand.o src/utils/print_nn.o src/utils/print_fp.o src/utils/print_buf.o src/curves/aff_pt.o src/curves/aff_pt_edwards.o src/curves/aff_pt_montgomery.o src/curves/curves.o src/curves/ec_edwards.o src/curves/ec_montgomery.o src/curves/ec_params.o src/curves/ec_shortw.o src/curves/prj_pt.o src/utils/print_curves.o src/hash/sha224.o src/hash/sha256.o src/hash/sha3-224.o src/hash/sha3-256.o src/hash/sha3-384.o src/hash/sha3-512.o src/hash/sha384.o src/hash/sha3.o src/hash/sha512-224.o src/hash/sha512-256.o src/hash/sha512.o src/hash/sha512_core.o src/hash/shake256.o src/hash/shake.o src/hash/bash224.o src/hash/bash256.o src/hash/bash384.o src/hash/bash512.o src/hash/bash.o src/hash/hash_algs.o src/hash/sm3.o src/hash/streebog.o src/hash/ripemd160.o src/hash/belt-hash.o src/hash/hmac.o src/sig/decdsa.o src/sig/ecdsa.o src/sig/ecfsdsa.o src/sig/ecgdsa.o src/sig/eckcdsa.o src/sig/ecosdsa.o src/sig/ecrdsa.o src/sig/ecsdsa.o src/sig/eddsa.o src/sig/fuzzing_ecdsa.o src/sig/fuzzing_ecgdsa.o src/sig/fuzzing_ecrdsa.o src/sig/ecdsa_common.o src/sig/ecsdsa_common.o src/sig/sig_algs.o src/sig/sm2.o src/sig/bign_common.o src/sig/bign.o src/sig/dbign.o src/sig/bip0340.o src/sig/ec_key.o src/utils/print_keys.o src/ecdh/egcc -std=c99cdh.o src/ecdh/x25519_448.o -o build/ec_self_tests
gcc -std=c99  -Wextra -Wall  -O3 -fPIE -MMD -MP -Iinclude/  -pie -Wl,-z,relro,-z,now -DWITH_STDLIB  src/tests/ec_self_tests_core.c src/tests/ec_utils.c src/external_deps/print.c src/external_deps/rand.c src/external_deps/time.c src/fp/fp_add.o src/fp/fp.o src/fp/fp_montgomery.o src/fp/fp_mul.o src/fp/fp_mul_redc1.o src/fp/fp_pow.o src/fp/fp_rand.o src/fp/fp_sqrt.o src/nn/nn_add.o src/nn/nn.o src/nn/nn_div.o src/nn/nn_logical.o src/nn/nn_modinv.o src/nn/nn_mod_pow.o src/nn/nn_mul.o src/nn/nn_mul_redc1.o src/nn/nn_rand.o src/utils/utils.o src/utils/utils_rand.o src/utils/print_nn.o src/utils/print_fp.o src/utils/print_buf.o src/curves/aff_pt.o src/curves/aff_pt_edwards.o src/curves/aff_pt_montgomery.o src/curves/curves.o src/curves/ec_edwards.o src/curves/ec_montgomery.o src/curves/ec_params.o src/curves/ec_shortw.o src/curves/prj_pt.o src/utils/print_curves.o src/hash/sha224.o src/hash/sha256.o src/hash/sha3-224.o src/hash/sha3-256.o src/hash/sha3-384.o src/hash/sha3-512.o src/hash/sha384.o src/hash/sha3.o src/hash/sha512-224.o src/hash/sha512-256.o src/hash/sha512.o src/hash/sha512_core.o src/hash/shake256.o src/hash/shake.o src/hash/bash224.o src/hash/bash256.o src/hash/bash384.o src/hash/bash512.o src/hash/bash.o src/hash/hash_algs.o src/hash/sm3.o src/hash/streebog.o src/hash/ripemd160.o src/hash/belt-hash.o src/hash/hmac.o src/sig/decdsa.o src/sig/ecdsa.o src/sig/ecfsdsa.o src/sig/ecgdsa.o src/sig/eckcdsa.o src/sig/ecosdsa.o src/sig/ecrdsa.o src/sig/ecsdsa.o src/sig/eddsa.o src/sig/fuzzing_ecdsa.o src/sig/fuzzing_ecgdsa.o src/sig/fuzzing_ecrdsa.o src/sig/ecdsa_common.o src/sig/ecsdsa_common.o src/sig/sig_algs.o src/sig/sm2.o src/sig/bign_common.o src/sig/bign.o src/sig/dbign.o src/sig/bip0340.o src/sig/ec_key.o src/utils/print_keys.o src/ecdh/egcc -std=c99cdh.o src/ecdh/x25519_448.o -o build/ec_utils